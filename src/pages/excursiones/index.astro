---
import DefaultLayout from "../../layouts/DefaultLayout.astro";

import HeaderStart from "../../components/HeaderStart.astro";
import FeatureStar from "../../components/FeatureStar.astro";
import { getCollection } from "astro:content";

const excursionesIndividuales = await getCollection("excursiones");

const page = "Excursiones Cuba";
const image = "/img/varadero.jpg";
---

<DefaultLayout 
  title="Excursiones Cuba - Viñales, Soroa, Cayos y Aventura Natural"
  description="Excursiones aventura en Cuba: Valle de Viñales, cascadas Soroa, cayos vírgenes, naturaleza exuberante. Ecoturismo y aventura con guías especializados."
>
  <HeaderStart page={page} image={image} />
  
  <!-- Sección de Excursiones -->
  {excursionesIndividuales.length > 0 && (
    <div class="container py-5">
      <div class="row">
        <div class="col-12 text-center mb-4">
          <h2 class="display-5 fw-bold text-primary">Excursiones Cuba</h2>
          <p class="lead text-muted">Experiencias únicas para descubrir Cuba a tu ritmo</p>
        </div>
      </div>
      <div class="row justify-content-center">
        {excursionesIndividuales.map((excursion) => (
          <div class="col-lg-4 col-md-6 mb-4">
            <div class="card shadow-sm h-100">
              <img src={excursion.data.img} class="card-img-top" alt={excursion.data.title} style="object-fit:cover;height:200px;" />
              <div class="card-body d-flex flex-column">
                <h5 class="card-title">{excursion.data.title}</h5>
                <p class="card-text flex-grow-1">{excursion.data.descripcion}</p>
                <div class="mb-3">
                  <small class="text-muted">
                    <i class="fas fa-clock me-1"></i> {excursion.data.duracion}
                  </small>
                  {excursion.data.grupo && (
                    <small class="text-muted ms-3">
                      <i class="fas fa-users me-1"></i> {excursion.data.grupo}
                    </small>
                  )}
                </div>
                <div class="d-flex gap-2">
                  <a href={`/excursiones/individuales/${excursion.id.split('/')[1]?.replace('.md', '') || excursion.id.replace('.md', '')}`} class="btn btn-primary flex-grow-1">
                    Ver detalles
                  </a>
                  <a href="/contact" class="btn btn-success" style="background:#7AB730;border:none;">
                    <i class="fab fa-whatsapp"></i>
                  </a>
                </div>
              </div>
            </div>
          </div>
        ))}
      </div>
    </div>
  )}
  
  <FeatureStar />
</DefaultLayout>
