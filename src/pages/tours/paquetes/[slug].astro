---
import { getCollection } from "astro:content";
import DefaultLayout from "../../../layouts/DefaultLayout.astro";

export async function getStaticPaths() {
    const paquetes = await getCollection("tours-paquetes");
    return paquetes.map((paquete) => ({
        params: { slug: paquete.slug },
        props: { paquete },
    }));
}

const { paquete } = Astro.props;
const { Content } = await paquete.render();
---

<DefaultLayout title={paquete.data.title ?? "Tour Cuba Paradise"}>
    <section class="container py-5">
        <div class="row">
            <div class="col-md-6">
                <img src={paquete.data.img} alt={paquete.data.title} class="img-fluid rounded mb-4" style="max-height:340px;object-fit:cover;width:100%;" />
            </div>
            <div class="col-md-6">
                <h1 class="mb-3">{paquete.data.title}</h1>
                <p class="lead">{paquete.data.descripcion}</p>
                <ul class="list-unstyled mb-3">
                    <li><strong>Duración:</strong> {paquete.data.duracion}</li>
                    <li><strong>Incluye:</strong> {paquete.data.incluye}</li>
                    <li><strong>Precio:</strong> ${paquete.data.precio} {paquete.data.moneda}</li>
                    {paquete.data.idiomas && <li><strong>Idiomas disponibles:</strong> {paquete.data.idiomas}</li>}
                    {paquete.data.notas_precio && <li class="text-muted small mt-2"><strong>Detalles de precios:</strong> {paquete.data.notas_precio}</li>}
                </ul>
                <div class="mt-4">
                    <a href="/contact" class="btn btn-success btn-lg" style="background:#7AB730;border:none;">Solicitar información</a>
                </div>
            </div>
        </div>
        <div class="row mt-5">
            <div class="col-12">
                <div class="content">
                    <Content />
                </div>
            </div>
        </div>
    </section>
</DefaultLayout>
