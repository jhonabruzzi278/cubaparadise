---

export interface Props {
	titulo?: string;
	catalogo: any[];
}

const { titulo = 'Catálogo completo de experiencias', catalogo = [] } = Astro.props;
---

<section class="container py-5">
	<h2 class="mb-4 text-center">{titulo}</h2>
	{catalogo.length === 0 && (
		<div class="alert alert-warning text-center">No hay alojamientos para mostrar. Revisa la colección y los archivos .md.</div>
	)}
	<div class="row">
		{catalogo.map((item) => (
			<div class="col-lg-4 col-md-6 mb-4" style="display:flex;">
				<div class="card w-100 h-100 shadow-sm">
					<img src={item.data.img} alt={item.data.title} class="card-img-top" style="height:220px;object-fit:cover;" />
					<div class="card-body d-flex flex-column">
						<h5 class="card-title">{item.data.title}</h5>
						<p class="card-text">{item.data.descripcion}</p>
						<ul class="list-unstyled small mb-2">
							{item.data.categoria && <li><strong>Categoría:</strong> {item.data.categoria}</li>}
							{item.data.duracion && <li><strong>Duración:</strong> {item.data.duracion}</li>}
							{item.data.precio && <li><strong>Precio:</strong> ${item.data.precio} {item.data.moneda}</li>}
						</ul>
						<a href={
							item.data.categoria === 'tours' ? `/tours/paquetes/${item.slug}` :
							item.data.categoria === 'excursiones' ? `/excursiones/paquetes/${item.slug}` :
							item.data.tipo === 'apartamento' ? `/alojamiento/apartamento/${item.slug}` :
							item.data.tipo === 'casa-en-el-campo' ? `/alojamiento/casa-en-el-campo/${item.slug}` :
							item.data.tipo === 'casa-en-la-playa' ? `/alojamiento/casa-en-la-playa/${item.slug}` :
							'#'
						} class="btn btn-success mt-auto" style="background:#7AB730;border:none;">Ver más</a>
					</div>
				</div>
			</div>
		))}
	</div>
</section>
